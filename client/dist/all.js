"use strict";angular.module("jamestownChicken",["ui.router"]).run(["Auth","$window","$rootScope",function(o,t,u){u.loggedIn=o.isAuthLite()}]);
"use strict";angular.module("jamestownChicken").config(["$stateProvider","$urlRouterProvider",function(s,t){t.otherwise("/home"),s.state("home",{url:"/home",templateUrl:"../../templates/home/index.html",controller:"MainController as main",css:"../../content/css.css"}).state("signup",{url:"/signup",templateUrl:"../../templates/signup/signup.html",controller:"SignupController as signup",css:"../../content/css.css"}).state("signin",{url:"/signin",templateUrl:"../../templates/signin/signin.html",controller:"SigninController as signin",css:"../../content/css.css"})}]);
"use strict";angular.module("jamestownChicken").controller("MainController",["$rootScope",function(o){o.bg=!0}]);
"use strict";angular.module("jamestownChicken").controller("SigninController",["$rootScope","$http","$window","$state","Auth",function(s,t,i,o,n){this.user,this.password,this.submit=function(){n.signin(this.user,this.password),this.user="",this.password=""}}]);
"use strict";angular.module("jamestownChicken").controller("SignupController",["$rootScope","$http","$window","$state","Auth",function(t,s,i,e,o){this.user,this.password,this.email,this.test="test",this.submit=function(){o.signup(this.user,this.password,this.email),this.user="",this.password="",this.email=""}}]);
"use strict";angular.module("jamestownChicken").factory("Auth",["$http","$location","$window","$state","$rootScope",function(e,n,a,o,t){var s=function(n,s,i){e.post("api/signup",{username:n,password:s,email:i}).then(function(e){e.data.duplicateUser&&(alert("username already taken, please choose a new one"),o.go("signup")),e.data.duplicateEmail&&(alert("email already in use, please choose a new one"),o.go("signup")),a.localStorage.accessToken=e.data.token}),t.loggedIn=!0,o.go("home")},i=function(n,s){e.post("api/signin",{username:n,password:s}).then(function(e){e.data.usernone&&(alert("user not found"),o.go("signin")),a.localStorage.accessToken=e.data.token}),t.loggedIn=!0,o.go("home")},u=function(){return!!a.localStorage.getItem("accessToken")};return{signup:s,signin:i,isAuthLite:u}}]);